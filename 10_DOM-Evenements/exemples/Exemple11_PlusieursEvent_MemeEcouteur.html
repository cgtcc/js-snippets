<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="fr" xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>L'objet Event</title>
	<style type="text/css">
		div, span { padding : 20px; }
		#monDiv   { background-color: #B0B0B0; }
		.monSpan  { background-color: #C0C0C0; margin-left : 20px;}
	</style>
	<script type="text/javascript" src="events.js"></script>
	<script type="text/javascript">
		window.addEventListener("load", function(){
			
			var eventsToListenTo = ["click", "dblclick", "mousedown",
									"mouseup", "mouseover", "mouseout"/*, "mousemove"*/];

			var monDiv = document.getElementById("monDiv");

			for (var i = 0; i < eventsToListenTo.length; i++) {
				monDiv.addEventListener(eventsToListenTo[i], afficherMsg, true);
			};

			document.getElementById("clear").addEventListener("click", function(){
				document.getElementById("txt").value = "";
			}, false);
		},false);

		function afficherMsg(evt) {
			var zoneText = document.getElementById("txt");
			zoneText.value += evt.type + " sur " + evt.target.firstChild.nodeValue + "\n";
		}
	</script>
</head>
<body>
	<form>
		<fieldset>
			<legend>Plusieurs évènements capturés et <strong>un seul gestionnaire d'évènement</strong></legend>
			<div id="monDiv">div<span class="monSpan">span 1</span><span class="monSpan">span 2</span>
								<span class="monSpan">span 3</span><span class="monSpan">span 4</span>
								<span class="monSpan">span 5</span>
			</div>
			<textarea id="txt" cols="64" rows="5"></textarea><br />
			<input type="button" id="clear" value="Effacer" />
		</fieldset>
	</form>
</body>
</html>
